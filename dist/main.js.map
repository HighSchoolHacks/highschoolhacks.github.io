{"version":3,"sources":["../src/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["let header = document.querySelector('.header');\nlet updateScroll = () => {\n  document.body.className = (window.scrollY >= header.getBoundingClientRect().height) ? 'scrolled' : '';\n};\nupdateScroll();\nwindow.addEventListener('scroll', updateScroll);\n\nlet nav = document.querySelector('nav');\ndocument.querySelector('.nav-link--toggle').addEventListener('click', () => {\n  if (nav.className.indexOf('open') != -1) {\n    nav.classList.remove('open');\n  } else {\n    nav.classList.add('open');\n  }\n});\n\nclass Astronaut {\n  static SPRITE_MAX = 3;\n  static SPRITE_MIN = 1;\n\n  constructor(img, onLoad) {\n    this.img = img;\n    this.x = Math.random();\n    this.z = Math.random();\n\n    this.element = document.createElement('div');\n    this.element.className = 'header__astronaut';\n    this.element.style.left = `${this.x*100}%`;\n    this.element.style.zIndex = `${Math.round(this.z*100)}`;\n    this.element.style.bottom = `${(1-this.z)*10 - 1}rem`;\n    this.element.style.transform = `scale(${0.75 + this.z*0.5})`;\n\n    this.body = document.createElement('div');\n    let type = Math.floor(Math.random() * (Astronaut.SPRITE_MAX - Astronaut.SPRITE_MIN + 1)) + Astronaut.SPRITE_MIN;\n    this.body.className = `header__astronaut__body astronaut__body--${type}`;\n    this.body.style.transform = `scaleX(${Math.random()>0.5 ? -1 : 1})`;\n\n    this.head = document.createElement('div');\n    this.head.className = 'header__astronaut__head';\n    this.head.style.backgroundImage = `url(\"${img}\")`;\n\n    this.preloadImg = document.createElement('img');\n    this.preloadImg.src = img;\n    this.preloadImg.addEventListener('load', onLoad || function(){});\n\n    this.body.appendChild(this.head);\n    this.element.appendChild(this.body);\n  }\n}\n\nlet sample = (arr, size) => {\n  let shuffled = arr.slice(0), i = arr.length, min = i - size, temp, index;\n  while (i-- > min) {\n    index = Math.floor((i + 1) * Math.random());\n    temp = shuffled[index];\n    shuffled[index] = shuffled[i];\n    shuffled[i] = temp;\n  }\n  return shuffled.slice(min);\n}\n\nlet canvas = document.querySelector('.header__bg');\nlet loader = document.querySelector('.header__loader');\n\nvar req = new XMLHttpRequest();\nreq.addEventListener(\"load\", () => {\n  if (req.response) {\n    let team = sample(JSON.parse(req.response).team, 8);\n    let loaded = 0;\n    team\n      .map((member) => new Astronaut(member.image, () => {\n        loaded++;\n        loader.style.width = `${100*loaded/team.length}%`;\n        if (loaded == team.length) canvas.classList.remove('header__bg--dimmed');\n      }))\n      .forEach((astronaut) => canvas.appendChild(astronaut.element));\n  }\n});\nreq.open(\"GET\", \"data/team.json\");\nreq.send();\n\n\n/** This website is parrot-enabled **/\nvar easter_egg = new Konami();\neaster_egg.load('https://youtu.be/9T1vfsHYiKY?t=52');"]}