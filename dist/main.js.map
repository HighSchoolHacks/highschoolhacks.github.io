{"version":3,"sources":["../src/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["let header = document.querySelector('.header');\nlet updateScroll = () => {\n  document.body.className = (window.scrollY >= header.getBoundingClientRect().height) ? 'scrolled' : '';\n};\nupdateScroll();\nwindow.addEventListener('scroll', updateScroll);\n\nlet nav = document.querySelector('nav');\ndocument.querySelector('.nav-link--toggle').addEventListener('click', () => {\n  if (nav.className.indexOf('open') != -1) {\n    nav.classList.remove('open');\n  } else {\n    nav.classList.add('open');\n  }\n});\n\nclass Astronaut {\n  static SPRITE_MAX = 3;\n  static SPRITE_MIN = 1;\n\n  constructor(img, onLoad) {\n    this.img = img;\n    this.x = Math.random();\n    this.z = Math.random();\n\n    this.element = document.createElement('div');\n    this.element.className = 'header__astronaut';\n    this.element.style.left = `${this.x*100}%`;\n    this.element.style.zIndex = `${Math.round(this.z*100)}`;\n    this.element.style.bottom = `${(1-this.z)*10 - 1}rem`;\n    this.element.style.transform = `scale(${0.75 + this.z*0.5})`;\n\n    this.body = document.createElement('div');\n    let type = Math.floor(Math.random() * (Astronaut.SPRITE_MAX - Astronaut.SPRITE_MIN + 1)) + Astronaut.SPRITE_MIN;\n    this.body.className = `header__astronaut__body astronaut__body--${type}`;\n    this.body.style.transform = `scaleX(${Math.random()>0.5 ? -1 : 1})`;\n\n    this.head = document.createElement('div');\n    this.head.className = 'header__astronaut__head';\n    this.head.style.backgroundImage = `url(\"${img}\")`;\n\n    this.preloadImg = document.createElement('img');\n    this.preloadImg.src = img;\n    this.preloadImg.addEventListener('load', onLoad || function(){});\n\n    this.body.appendChild(this.head);\n    this.element.appendChild(this.body);\n  }\n}\n\nlet sample = (arr, size) => {\n  let shuffled = arr.slice(0), i = arr.length, min = i - size, temp, index;\n  while (i-- > min) {\n    index = Math.floor((i + 1) * Math.random());\n    temp = shuffled[index];\n    shuffled[index] = shuffled[i];\n    shuffled[i] = temp;\n  }\n  return shuffled.slice(min);\n}\n\nlet canvas = document.querySelector('.header__bg');\nlet loader = document.querySelector('.header__loader');\n\nvar req = new XMLHttpRequest();\nreq.addEventListener(\"load\", () => {\n  if (req.response) {\n    let team = sample(JSON.parse(req.response).team, 8);\n    let loaded = 0;\n    team\n      .map((member) => new Astronaut(member.image, () => {\n        loaded++;\n        loader.style.width = `${100*loaded/team.length}%`;\n        if (loaded == team.length) canvas.classList.remove('header__bg--dimmed');\n      }))\n      .forEach((astronaut) => canvas.appendChild(astronaut.element));\n  }\n});\nreq.open(\"GET\", \"data/team.json\");\nreq.send();\n\n\n/** This website is parrot-enabled **/\nvar easter_egg = new Konami();\neaster_egg.load('https://youtu.be/9T1vfsHYiKY?t=52');"]}